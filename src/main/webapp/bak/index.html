<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<title>无标题文档</title>
<script type="text/javascript" src="./js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="./js/jQueryRotate.js"></script>
<script type="text/javascript" src="./js/data.js"></script>
<!-- 
<script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css' rel='stylesheet' /> -->

<script src='../js/mapbox/mapbox_v2.1.4.js'></script>
<link href='../css/mapbox/mapbox_v2.1.4.css' rel='stylesheet' />
<!-- 放大缩小 begin-->
<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.css'
  rel='stylesheet' />
<style>
/* Adjustments to account for mapbox.css box-sizing rules */
.leaflet-control-zoomslider-knob {
	width: 14px;
	height: 6px;
}

.leaflet-container .leaflet-control-zoomslider-body {
	-webkit-box-sizing: content-box;
	-moz-box-sizing: content-box;
	box-sizing: content-box;
}
</style>
<!-- end -->


<script type="text/javascript" src="./js/map.js"></script>
<script type="text/javascript" src="./js/car.js"></script>
<script type="text/javascript" src="mSelect.js"></script>
<script type="text/javascript">
	var mySelect = new mSelect('mySelect', 'mSelect.css');
	window.onload = function() {
		var aS = document.getElementsByTagName('select');
		for ( var i = 0; i < aS.length; i++) {
			switch (aS[i].getAttribute('mSty')) {
			case 'redLine':
				mySelect.Create(aS[i], 'redLine');
				break;
			case 'blueCircle':
				mySelect.Create(aS[i], 'blueCircle', true);
				break;
			case 'orangeHeart':
				mySelect.Create(aS[i], 'orangeHeart', true);
				break;
			}
		}
	}
</script>
<link href="css/css.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="bodydiv">
    <div id="header">
      <div class="logo">
        <img src="images/logo.png" />
      </div>
      <div class="menu">
        <ul>
          <li><a href="#"><img src="images/now.png" /></a></li>
          <li><a href="#"><img src="images/history.png" /></a></li>
          <li><a href="#"><img src="images/reports.png" /></a></li>
          <li><a href="#"><img src="images/service.png" /></a></li>
          <li><a href="#"><img src="images/account.png" /></a></li>
        </ul>
      </div>
      <!--menu -->
      <div class="menuright">
        <ul>
          <li style="width: 220px; line-height: 60px">Company,inc.<span style="color: #a4b1c3"> Name of User</span></li>
          <li><a href="#"><img src="images/exit.png" /></a></li>
        </ul>
      </div>
      <!--menuright -->
    </div>
    <!--header -->
    <div class="clear"></div>
    <div id="side">
      <div id="map">

        <div id="carIcon"></div>

        <div id="carDetail"></div>
        <!--carpopupinfo -->
      </div>
      <!--map -->
      <div id="rightside">
        <div class="listpng">
          <div>
            <p>
              <select name="addr" mSty="blueCircle">
                <option>MapList</option>
                <option>湘65333</option>
                <option value="2">世界的</option>
                <option value="3">沃尔沃C04</option>
                <option value="4">沪49422</option>
                <option value="5">京H2343</option>
                <option value="6">粤J39997</option>
              </select>
            </p>
          </div>
        </div>
        <!--listpntDiv -->
        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/greenrect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Driving</li>
            <li style="margin-left: 10px;"><img src="images/greenpoint.gif" /></li>
          </ul>
        </div>

        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/bluerect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Stop</li>
            <li style="margin-left: 10px;"><img src="images/bluepoint.gif" /></li>
          </ul>
        </div>

        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/purlerect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Engine off</li>
            <li style="margin-left: 10px;"><img src="images/purlepoint.gif" /></li>
          </ul>
        </div>

        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/redrect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Speeding</li>
            <li style="margin-left: 10px;"><img src="images/redpoint.gif" /></li>
          </ul>
        </div>

        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/yellowrect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Idlling</li>
            <li style="margin-left: 10px;"><img src="images/yellowpoint.gif" /></li>
          </ul>
        </div>

        <div class="line">
          <img src="images/line.gif" />
        </div>
        <div class="greendiv">
          <ul>
            <li><img src="images/liangpurlerect.gif" /></li>
            <li><a href="#">trck3</a></li>
            <li style="width: 80px;">Disconnect</li>
            <li style="margin-left: 10px;"><img src="images/liangpurlepoint.gif" /></li>
          </ul>
        </div>

        <div class="rectcolor"></div>
        <div class="clear"></div>
        <div class="selecttable">
          <ul>
            <li><label style="cursor: pointer;"><input name="Sound" type="checkbox" value="value" />&nbsp;&nbsp;Sound</label></li>
            <li><label style="cursor: pointer;"><input name="Traffic Map" type="checkbox" value="value" />&nbsp;&nbsp;Traffic Map</label></li>
          </ul>
        </div>
        <div class="selecttable">
          <ul>
            <li><label style="cursor: pointer;"><input id="auto-fit" name="Auto-Fit" type="checkbox" value="1" />&nbsp;&nbsp;Auto-Fit</label></li>
            <li><label style="cursor: pointer;"><input name="Vehicle Lobel" type="checkbox" value="value" />&nbsp;&nbsp;Vehicle Lobel</label></li>
          </ul>
        </div>
      </div>
      <!--rightside -->
    </div>
    <!--sideDiv -->
  </div>
  <!--bodydiv -->

  <!-- car的信息 -->
  <div id="carIconTemplate" style="display: none;">
    <div class="carblack">
      <ul>
        <li><img src="images/carred_direction.png" /></li>
        <li><a id="carName">Truck3</a></li>
      </ul>
    </div>
  </div>

  <!-- 详细信息 -->
  <div id="carDetailTemplate" style="display: none;">
    <div class="carpopupinfo">
      <div class="carinfotitle">
        <ul>
          <li><img src="images/carinfo.gif" /></li>
          <li class="car_name" style="width: 110px; text-align: center;"></li>
        </ul>
      </div>
      <div class="clear"></div>
      <div class="carmodel">
        <ul>
          <li class="car_commuter">Toyota commuter</li>
          <li></li>
          <li class="car_number"
            style="background: url(images/blackrect.gif) no-repeat; width: 56px; height: 16px; margin-left: 3px; color: #FFF">123-ABC</li>
        </ul>
      </div>
      <div class="carrunstate">Engune off 20 hrs ago</div>
      <div class="carrunsite">
        <ul>
          <li class="car_addr">33balaPI,Calamvale,QLD,4116</li>
        </ul>
      </div>
      <div class="carruntime">
        <ul>
          <li class="car_runtime">Wed,Jul 01@1:08:00am</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
	$(function() {

		var popup = L.popup();
		function onMapClick(e) {
			popup.setLatLng(e.latlng).setContent(
					"You clicked the map at " + e.latlng.toString())
					.openOn(map);
		}
		map.on('click', onMapClick);
		
		car.initCars(carlist0);//初始化markers
		
		 window.setInterval(car.flushStatus,1500);//刷新markers
		 
		 $('#auto-fit').click(function(){//auto-fit switch
			 if($(this).is(":checked")){
				 car.auto_fit=true;
			 }else{
				 car.auto_fit=false;
			 }
		 });
	})
		</script>

</body>
</html>